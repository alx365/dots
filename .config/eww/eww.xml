<eww>
  <definitions>
    <def
        name="list">
     <literal content="{{list}}"/> 
    </def>
     <def name="pxbar">
      <progress value="{{volume}}" orientation="v" halign="start" flipped="true"/>
    </def>
    <def name="bar" orientation="h" hexpand="true">
      <progress value="50" orientation="h" halign="start" flipped="true"/>
    </def>
  </definitions>
  <variables>
    <script-var name="list" interval="10s">
      egs.sh
    </script-var>
     <script-var name="volume">
    amixer sget 'Master' | grep 'Front Left:' | sed 's/.*\[\(.*\)%\].*/\1/g';
    LANG=C pactl subscribe | grep --line-buffered sink | while read -r _; do
      amixer sget 'Master' | grep 'Front Left:' | sed 's/.*\[\(.*\)%\].*/\1/g'
    done
    </script-var>

  </variables>
  
  <windows>
    <window name="egs">
      <size x="250" y="80" />
      <pos x="0" y="0" />
      <widget>
        <box orientation="v">
          RAM: {{EWW_DISK}}
          Games
          <list/>
          <button onclick="${HOME}/programming/eww/target/debug/eww close {{WINDOW_NAME}}">Quit</button>
          </box>
      </widget>
    </window>

    <window name="volume" stacking="fg">
      <geometry anchor="center left" width="1px" height="100%" x="1px" y="0px"/>
      <widget>
        <pxbar/>
      </widget>
    </window>

    <window name="bar" stacking="fg">
      <geometry anchor="top center" width="100%" height="14px"/>
      <widget>
        <bar/>
      </widget>
    </window>
  </windows>
</eww>
